<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>JS4-1. 배열변수와 객체</title>
    <style>
        h1 {
            text-align: center;
        }

        body>div {
            width: 1000px;
            height: 80px;
            border: 2px solid #000;
            text-align: center;
            white-space: nowrap;
            /* 줄바꿈방지 */
            line-height: 84px;
            margin: 5px auto;
            /* 가로중앙 */
            font-size: 24px;
        }
    </style>
    <script>
        /******************************* 
            함수명: loadFn
            기능: 로딩후 실행함수
        *******************************/
        // 상수const로 선언하여 익명함수를 할당해서
        // 함수를 만드는 경우기 아주 많다!!!
        const loadFn = function () {

            //    let htxt = document.querySelector("h1");
            //    console.log("타이틀글자:",htxt.innerText);

            /************************************ 
                [ 배열(Array) 변수란? ]
                - 여러개의 데이터를 묶음으로 변수하나에 저장함
                - 각 데이터를 하나의 이름으로 호출할 수 있는
                메모리공간
                (예컨데 묶음은 계란한판, 아파트 각 동 등)


                - 배열의 선언
                1. new Array()
                - new 키워드
                객체를 실제로 메모리안에 생성하는 방법

                - 객체란 속성과 메서드를 가지는 프로그램 단위체
                - 객체는 독립된 특성을 가지고 있어야함!
                예컨데 자동차, 볼펜, 물통, 가방 등
                독립된 별도의 기능이 있어야하고 명사적특징고아
                동사적특징이 모두 있어야 객체다!

            ************************************/

            let arr1 = new Array("1993년 10월 12일", "183cm", "65kg", "너도 인간이니?", 4568, "서강준");
            // new키워드로 선언과 할당을 동시에 할 수 있다!
            // 소괄호안에 콤마로 구분하여 값을 할당할 수 있다!

            // 배열변수에 할당한 데이터 불러오기
            // 호출방법: 배열변수명[순번] -> 순번은 0부터

            // 출력대상: #txt1
            let txt1 = document.querySelector("#txt1");
            txt1.innerText = `이름:${arr1[5]}`;
            txt1.innerText += ` / 키:${arr1[1]}`;
            txt1.innerText += ` / 몸무게:${arr1[2]}`;
            txt1.innerText += ` / 최근작:${arr1[3]}`;

            // 2. 배열의 선언과 할당의 다른방식
            // 배열변수명 = [값1,값2,...]
            // 이 방식이 가장 많이 쓰이는 보편적인 방식임
            // new Array() 라고 객체를 생성하지 않아도 자동생성됨!
            // -> 이런 객체를 정적객체(Static Object)라고함
            let arr2 = [
                "삼일절",
                "태극기",
                1919,
                function () {
                    alert("대한독립만세!");
                }
            ];

            // function(){} 익명함수 - 이름없는 함수
            // -> 배열값으로 익명함수도 넣을 수 있다!

            //배열변수 개수 찍기 : length
            console.log("arr2배열개수:", arr2.length);

            // 출력대상: txt2
            let txt2 = document.querySelector("#txt2");
            // 출력할 문자: 삼일절은 1919년에 일제에 항거하여 태극기를 들고 일어난 민중봉기를 기념하는 날이다
            txt2.innerText = `${arr2[0]}은 ${arr2[2]}년에 일제에 항거하여 ${arr2[1]}를 들고 일어난 민중봉기를 기념하는 날이다`;

            // 두번째 텍스트박스에 툴팁 띄우기!
            txt2.title = "여기를 클릭하세요!";

            // 손가락모양
            txt2.style.cursor = "pointer";

            // 이벤트속성을 JS에서 설정하기!!!
            // 기존엔 html 요소에 직접 이벤트속성을 썼으나
            // JS코드블록 안에서 요소의 이벤트를 직접 할당함!

            txt2.onclick = function () {
                // arr2배열의 함수를 호출!
                arr2[3]();
                // 함수호출시 소괄호 필수!!
            }; /////// click함수 /////////


            // 선택요소.on이벤트명 = 익명함수
            // -> 선택요소에 이벤트가 발생하면 익명함수의 코드가 실행됨!

            // 3. 배열을 미리 생성하여 각각 할당하는 방법
            // 배열변수명 = [] -> 이 변수가 배열변수로 설정됨!
            // 배열변수명.length = 숫자 -> 숫자만큼 배열이 생성됨!
            // 배열변수명.length는 배열개수도 읽고 설정도 함!

            let arr3 = []; // arr3가 배열변수로 설정!
            arr3.length = 8; // arr3가 8개의 공간을 설정함!
            // 각 배열주소에 값을 할당함!
            arr3[0] = "산";
            arr3[1] = "할아버지";
            arr3[2] = "구름모자";
            arr3[3] = "썻네~!";
            arr3[4] = "나비같이";
            arr3[5] = "훨훨";
            arr3[6] = "훠얼훨";
            arr3[7] = "날아서~!";

            // 배열값 전체찍기: valueOf()
            // -> 배열값 전체를 콤마로 구분하여 출력함
            console.log("arr3 배열전체값:", arr3.valueOf());
            // 참고로 변수만 찍어도 브라우저가 valueOf()를 해줌!^^

            // 변수 전체찍기에서 사이에 구분자 변경하기
            // join(구분자) -> 구분자는 특수문자 등 구분하는 문자
            console.log("arr3 배열구분자 변경:", arr3.join("^"));
            // join()은 구분자를 넣은 문자데이터다!

            // 배열사이에 별(★)을 넣어서 출력할 것!
            // 화면출력 대상: #txt3
            let txt3 = document.querySelector("#txt3");

            // 배열값 뒤에 동적으로 배열값 추가하기!
            // phsh(값) -> 배열맨뒤에 값을 추가
            arr3.push("김창완작사");

            // 배열사이에 별넣기: join()사용
            txt3.innerText = arr3.join("★");

            /***************************************************** 
                [ 객체(Object) 란? ]

                - 독립된 속성과 메서드를 가지는 프로그램 단위체
                - 속성은 명사적 특징, 메서드는 동사적 특징
                객체예)
                https://www.w3schools.com/js/js_objects.asp
                - 자동차의 명사적특징: 핸들, 백미러, 트렁크 등
                - 자동차의 동사적특징: 운전하다, 멈추다, 주차하다 등

                (참고: 
                    브라우저에 이미 만들어져 있는 객체들을
                    내장객체라고 한다!
                    -> 브라우저 내장객체들
                    봄(BOM:Browser Object Model)
                    -> https://www.w3schools.com/js/js_window.asp

                    window : 윈도우(브라우저화면)표시 관련 객체
                    document : 문서구조에 관련된 객체
                    Array : 배열객체
                    Object : 객체를 만들기 위한 객체
                    Date : 날짜객체
                    Math : 수학객체
                )

                ->>> 내장객체중 객체를 만들기위한 객체인 Object를
                사용하여 객체를 만들어보자!!!

                [ 객체의 선언 ]
                - new Object()

                [ 객체의 할당 ]
                - 중괄호{}를 사용하여 할당코딩을 함
                - {속성명:값,속성명:값,...}
                - 여러값을 셋팅할때 콤마로 구분한다
                - 배열과 비교해서 이해하기 쉽고 호출하기 쉽다!
                - 객체 스타일로 데이터 구조를 만들고
                이런 파일로 DB와 데이터 통신을 하는 경우가 많다
                이런 파일을 제이슨(JSON:확장자.json)이라고 한다!

                [ 객체의 호출 ]
                - 객체명[속성명]
                또는
                - 객체명.속성명


            *****************************************************/

            const SSG = new Object({
                "너의 이름은?": "손석구",
                "생일": "1983년 2월 7일",
                "출생지": "대전광역시 유성구 전민동",
                "키": "178cm",
                "몸무게": "80kg",
                "혈액형": "B형",
                "성별": "남자",
                "대표작": "나의 해방일지,범죄도시2",
                "소속사": "샛별당엔터",
                "비밀번호": 7777,
                "팬레터": function () {
                    // 1. 메시지 띄우기
                    alert("상남자 오빠, 지금뭐해?");
                    // 2. 배경이미지 넣기
                    txt4.style.background =
                        "url(https://file.mk.co.kr/meet/neds/2022/05/image_readtop_2022_456627_16533579475052374.jpeg) repeat-x top/auto 100%";
                    // 3. 글자색
                    txt4.style.color = "#fff";
                    // 4. 글자그림자
                    txt4.style.textShadow = "0 0 5px #000";
                    // 5. 글자내용변경하기
                    txt4.innerText = "손석구 최고 멋쟁이! 승승장구! 화이팅!";
                    // 6. 트랜지션
                    txt4.style.transition = "1s ease-out 1s";
                    // 7. 박스크게하기
                    txt4.style.transform = "scale(1.2)";
                }
            }); ////// SSG객체 /////////

            // 객체출력하기
            // 대상: txt4

            let txt4 = document.querySelector("#txt4");

            txt4.innerText =
                `당신이 좋아하는 남자배우는? ${SSG["너의 이름은?"]}`;
            txt4.innerText +=
                ` / 몸무게를 아세요? ${SSG["몸무게"]}`;

            // 객체에 셋팅된 함수를 보통 "메서드"라고 부른다!
            // 이 메서드를 호출해 보자!
            txt4.onclick = SSG["팬레터"];

            // title속성 넣기
            txt4.title = `여기를 클릭하여 ${SSG["너의 이름은?"]} 팬레터를 확인하세요!`;

            // 손가락 표시
            txt4.style.cursor = "pointer";

            /********************************************* 
            
                [ new 키워드 없이 바로 객체를 생성하기!!! ]

                - 방법: 변수 선언 후 이퀄 뒤에 바로 중괄호 사용!
                예) let obj = {속성명:값,속성명:값,...}

                [ 객체의 속성 셋팅 시 문자형 또는 변수형 사용하기 ]

                1. 문자형 속성 - 따옴표로 싸는 방법

                예) let obj = {"나는나":"호호호","너는너":"하하하"}
                -> 문자형 속성의 객체 호출시
                객체명[문자형속성명]
                예) obj["나는나"]

                2. 변수형 속성 - 따옴표로 안싼 문자
                예) let obj = {name:"김수현",tall:"186cm"}
                -> 변수형 속성의 객체 호출시
                객체명.속성명
                예) obj.name

                또는

                객체명["속성명"]
                예) obj["name"]
                -> 반드시 변수형 속성명을 따옴표로 싸서
                문자형으로 표시해야함!
                obj[name] -> 에러남!
            
            *********************************************/

            // 객체 생성하기
            const GU = {
                name: "공유",
                tall: "184cm",
                weight: "74kg",
                com: "매니지먼트 숲",
                work: "도깨비,부산행",
                // function(){} 대신 ()=>{} 화살표함수
                msg: (txt) => { // txt는 전달변수
                    // 1. 메시지 띄우기
                    alert("팬레터:" + txt);

                    // 2. 공유 이미지 배경에 넣기
                    txt5.style.background =
                        "url(https://upload.wikimedia.org/wikipedia/commons/thumb/4/41/Gong_Yoo_%28Sep_2016%29.png/250px-Gong_Yoo_%28Sep_2016%29.png) repeat-x top/auto 100%";
                    // 3. 글자색변경
                    txt5.style.color = "#fff";
                    // 4. 글자그림자(테두리)
                    txt5.style.textShadow =
                        "1px 0 #000,-1px 0 #000,0 1px #000,0 -1px #000";
                    // 5. 높이값 설정
                    txt5.style.height = "100px";
                    // 6. 트랜지션
                    txt5.style.transition = "2s ease-in-out .5s";
                    // 7. 줄간격
                    txt5.style.lineHeight = "30px";
                    // 8. 상단패딩
                    txt5.style.paddingTop = "100px";

                } //// msg 메서드 ////
            }; ////////// GU객체 ///////////


            // GU객체 출력하기 ///////
            // 출력대상: #txt5
            let txt5 = document.querySelector("#txt5");

            // 출간격 조정
            txt5.style.lineHeight = "24px";

            // 내용출력
            txt5.innerHTML = `저는 ${GU.name}입니다.
                몸무게는 비밀인데요 그래도 말씀드리자면
                ${GU.weight}입니다. ㅎㅎㅎ<br>
                제 대표작은 ${GU.work}입니다. <br>
                제 소속사는 모르시는 분들이 많은데
                ${GU.com}입니다. 빠이빠이~!`;

            // 툴팁 띄우기
            txt5.setAttribute("title", GU.name + "의 팬레터를 확인하세요! 바로클릭!");
            // setAttribute(속성명,속성값) - JS내장함수

            // 손가락 모양
            txt5.style.cursor = "pointer";

            // 공유박스 클릭시 GU객체 메서드 호출하기
            // txt5.onclick = function(){};
            txt5.onclick = () => {
                GU.msg("\n공유오빠, 오징어게임 싸다구 멋쪘어요! \n차기작도 기대해요! 화이팅!!!");
                // \n은 alert창에서 줄바꿈해줌!
            }; ///// click 함수 /////


            ///////////////////////////////////
            // 미션: #txt6는 객체를 만들어서 자유출력하시오!
            // 자신의 선정영화 정보를 아래와 유사한 형식으로
            // 셋팅하시오!

            // 변수명을 자신이 지어본다
            const myMv = {
                // 1. 영화제목
                title: "더 배트맨",
                // 2. 감독
                director: "맷 리브스",
                // 3. 배우
                actors: "로버트 패틴슨, 폴 다노",
                // 4. 장르
                genre:"액션, 범죄, 드라마",
                // 5. 관람가
                ratings:"15세 관람가",
                // 6. 예고편(메서드)
                trailer:()=>{
                    // 1. 호출확인
                   console.log("예고편");
                   // 2. 영화박스 만들고 iframe 넣기
                   // 대상: #mvbx
                   let mvbx = document.querySelector("#mvbx");

                   // 영화박스에 아이프레임용 박스넣기
                   mvbx.innerHTML = `
                        <div id="mv">
                            <!--유튜브 아이프레임-->
                            <iframe width="100%" height="100%" src="https://www.youtube.com/embed/CKOjENn2MVI?autoplay=1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

                            <!--닫기버튼-->
                            <span class="cbtn">×</span>
                        </div>
                   
                   `;

                   // 삽입된 동영상박스(#mv) CSS설정하기
                   let mv = document.querySelector("#mv");
                   mv.style.position = "fixed";
                   mv.style.top = "50%";
                   mv.style.left = "50%";
                   mv.style.transform = "translate(-50%,-50%)";
                   mv.style.width = "700px";
                   mv.style.height = "450px";
                   mv.style.backgroundColor = "#000";

                   // 닫기버튼 셋팅
                   let cbtn = document.querySelector(".cbtn");
                   cbtn.style.position = "absolute";
                   cbtn.style.top = "0";
                   cbtn.style.right = "-70px";
                   cbtn.style.width = "50px"
                   cbtn.style.height = "50px";
                   cbtn.style.backgroundColor = "blue";
                   cbtn.style.textAlign = "center";
                   cbtn.style.fontSize = "40px";
                   cbtn.style.fontWeight = "bold";
                   cbtn.style.color = "white";
                   cbtn.style.borderRadius = "50%";
                   cbtn.style.cursor = "pointer";
                   cbtn.style.lineHeight = "40px";

                   // 닫기버튼 클릭시 #mv 지우기
                   cbtn.onclick = () => mv.remove();
                   // ()=>{실행문}
                   // 실행문이 하나일때 중괄호 생략가능
                   // ()=>실행문;
                   // remove() 메서드는 선택요소를 제거함!

                } ///// trailer 메서드 ///
            }; ////////// myMv객체 ////////////

            // 출력대상: #txt6
            let txt6 = document.querySelector("#txt6");

            // 줄간격 조정
            txt6.style.lineHeight = "34px";

            // 출력
            txt6.innerHTML = 
            `
                ♣️ 영화명 : ${myMv.title}
                ♣️ 감독 : ${myMv.director} 
                ♣️ 배우 : ${myMv.actors} <br>
                ♣️ 장르 : ${myMv.genre}
                ♣️ 등급 : ${myMv.ratings}

            `;


            // 툴팁보이기
            txt6.title = 
            `클릭하시면 ${myMv.title}예고편을 보실 수 있습니다!`;

            // 손가락표시
            txt6.style.cursor = "pointer";

            // 트레일러 메서드 호출하기
            // #txt6클릭시
            txt6.onclick = myMv.trailer;






        }; /////////// loadFn함수 ////////////////



        //// 로드구역 ///////
        // window.addEventListener("load",function(){})
        window.addEventListener("DOMContentLoaded", loadFn);
        // 전달변수값이 없는 경우 addEventListener에서 함수명만
        // 써도 됨!

        /********************************** 
            [ 로드구역 만들기 ]

            1. body태그 내부의 html이 모두
            로딩된 후 실행할 코드를 아래와 같이
            이벤트를 등록후 로드구역을 만들어준다!

            window.addEventListener(이벤트명,함수)

            -> addEventListener메서드는 어떤
            이벤트든지 함수와 연결시켜주는 JS내장함수임!

            2. 로드이벤트 종류:
            1) load
            -> 모든 html요소가 로딩되었을때 발생
            2) DOMContentLoaded
            -> html태그만 그려지면 발생
            -> load이벤트보다 더 빠름!
        **********************************/


        /********************************************* 
            [ 객체에 대한 단상 ]

            - 객체는 배열처럼 데이터를 묶어서 저장하는
            메모리 공간 역할을 한다. 그런데 호출시에
            번호로 호출하는 배열처럼 기계적이지 않고
            사람이 잘 이해할 수 있는 문자로 호출값을
            사용하는 아주 편리한 것이다!

            두루 널리 쓰도록 하여라~~~!

            (참고: 제이슨(JSON)의 형식은 객체형식이다!)

            ※ 정리:
            _________________________

            배열값 설정
            let 변수명 = [값1,값2,값3,...]
            __________________________

            배열값 호출
            변수명[순번] -> 순번은 0부터
            ___________________________

            객체값 설정
            let 변수명 = {속성:값,속성:값,...};
            _____________________________

            객체값 호출

            변수명[속성명]
            -> 속성명을 따옴표로 싼 문자형 이어야한다!
            (만약 변수형 속성명이어도 이렇게 부를땐 따옴표로 쌈)

            또는

            변수명.속성명
            -> 속성명은 반드시 변수형 이어야함!


        *********************************************/


    </script>
</head>

<body>
    <h1>JS4-1. 배열변수와 객체</h1>

    <div id="txt1"></div>
    <div id="txt2"></div>
    <div id="txt3"></div>
    <div id="txt4"></div>
    <div id="txt5"></div>
    <div id="txt6"></div>

    <!-- 예고편 동영상용 박스 -->
    <aside id="mvbx"></aside>
</body>

</html>